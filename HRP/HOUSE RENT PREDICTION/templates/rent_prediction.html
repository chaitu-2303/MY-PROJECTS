{% extends 'base.html' %}

{% block title %}Rent Prediction - House Rent Prediction{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="page-header bg-primary text-white">
    <div class="container py-5">
        <div class="row">
            <div class="col-md-8">
                <h1 class="display-4 fw-bold">Rent Prediction</h1>
                <p class="lead">Get accurate rent estimates based on property details and location</p>
            </div>
        </div>
    </div>
</div>

<!-- Prediction Form Section -->
<section class="form-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="form-container" data-aos="fade-up">
                    <h2 class="text-center mb-4">Predict Your Property's Rental Value</h2>
                    <p class="text-center mb-4">Fill in the details below to get an accurate prediction of your property's rental value based on our advanced machine learning model.</p>
                    
                    <form class="prediction-form" method="post">
                        {{ form.hidden_tag() }}
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="bhk" class="form-label">BHK (Bedrooms)</label>
                                    <select class="form-select" id="bhk" name="bhk" required>
                                        <option value="" selected disabled>Select BHK</option>
                                        <option value="1">1 BHK</option>
                                        <option value="2">2 BHK</option>
                                        <option value="3">3 BHK</option>
                                        <option value="4">4 BHK</option>
                                        <option value="5">5 BHK</option>
                                        <option value="6">6+ BHK</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="size" class="form-label">Size (sq.ft)</label>
                                    <input type="number" class="form-control" id="size" name="size" placeholder="e.g. 1200" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="floor" class="form-label">Floor</label>
                                    <input type="text" class="form-control" id="floor" name="floor" placeholder="e.g. 3 out of 5" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="bathroom" class="form-label">Bathrooms</label>
                                    <select class="form-select" id="bathroom" name="bathroom" required>
                                        <option value="" selected disabled>Select Bathrooms</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4+</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="area_type" class="form-label">Area Type</label>
                                    <select class="form-select" id="area_type" name="area_type" required>
                                        <option value="" selected disabled>Select Area Type</option>
                                        <option value="Super Area">Super Area</option>
                                        <option value="Carpet Area">Carpet Area</option>
                                        <option value="Built Area">Built Area</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="city" class="form-label">City</label>
                                    <select class="form-select" id="city" name="city" required>
                                        <option value="" selected disabled>Select City</option>
                                        <option value="Kolkata">Kolkata</option>
                                        <option value="Mumbai">Mumbai</option>
                                        <option value="Delhi">Delhi</option>
                                        <option value="Bangalore">Bangalore</option>
                                        <option value="Chennai">Chennai</option>
                                        <option value="Hyderabad">Hyderabad</option>
                                        <option value="Pune">Pune</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="furnishing" class="form-label">Furnishing Status</label>
                                    <select class="form-select" id="furnishing" name="furnishing" required>
                                        <option value="" selected disabled>Select Furnishing Status</option>
                                        <option value="Unfurnished">Unfurnished</option>
                                        <option value="Semi-Furnished">Semi-Furnished</option>
                                        <option value="Fully Furnished">Fully Furnished</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="tenant" class="form-label">Tenant Preferred</label>
                                    <select class="form-select" id="tenant" name="tenant" required>
                                        <option value="" selected disabled>Select Tenant Preference</option>
                                        <option value="Bachelors/Family">Bachelors/Family</option>
                                        <option value="Bachelors">Bachelors</option>
                                        <option value="Family">Family</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="area_locality" class="form-label">Area Locality</label>
                            <input type="text" class="form-control" id="area_locality" name="area_locality" placeholder="e.g. Salt Lake, Sector 5" required>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label for="point_of_contact" class="form-label">Point of Contact</label>
                            <select class="form-select" id="point_of_contact" name="point_of_contact" required>
                                <option value="" selected disabled>Select Point of Contact</option>
                                <option value="Contact Owner">Contact Owner</option>
                                <option value="Contact Agent">Contact Agent</option>
                                <option value="Contact Builder">Contact Builder</option>
                            </select>
                        </div>
                        
                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary btn-lg">Predict Rent</button>
                        </div>
                    </form>
                </div>
                
                {% if prediction %}
                <div class="prediction-result mt-5" data-aos="fade-up">
                    <div class="card border-0 shadow">
                        <div class="card-body p-4 text-center">
                            <h3 class="mb-4">Predicted Monthly Rent</h3>
                            <div class="prediction-amount mb-3">
                                <span class="display-4 fw-bold text-primary">â‚¹{{ prediction }}</span>
                                <span class="text-muted">/month</span>
                            </div>
                            <p class="mb-4">This prediction is based on current market trends and similar properties in the selected area.</p>
                            <div class="row justify-content-center">
                                <div class="col-md-8">
                                    <div class="prediction-accuracy p-3 bg-light rounded">
                                        <p class="mb-0"><i class="fas fa-info-circle text-primary me-2"></i> Our prediction model has an accuracy of approximately 85-90% for the selected area.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section py-5 mt-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="fw-bold">How Our Prediction Model Works</h2>
                <p class="lead">Our advanced machine learning algorithm analyzes multiple factors to provide accurate rent predictions</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-4 mb-4" data-aos="fade-up">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="feature-icon mb-4">
                            <i class="fas fa-database fa-3x text-primary"></i>
                        </div>
                        <h4 class="mb-3">Data Collection</h4>
                        <p>We collect and analyze thousands of rental listings across different cities to build our prediction model.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="100">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="feature-icon mb-4">
                            <i class="fas fa-brain fa-3x text-primary"></i>
                        </div>
                        <h4 class="mb-3">Machine Learning</h4>
                        <p>Our algorithm processes multiple factors including location, size, amenities, and market trends.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="200">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="feature-icon mb-4">
                            <i class="fas fa-chart-line fa-3x text-primary"></i>
                        </div>
                        <h4 class="mb-3">Accurate Prediction</h4>
                        <p>The model provides a highly accurate rent prediction based on current market conditions.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Factors Section -->
<section class="factors-section py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0" data-aos="fade-right">
                <h2 class="fw-bold mb-4">Factors That Affect Rental Prices</h2>
                <p class="mb-4">Our prediction model takes into account various factors that influence rental prices in the market:</p>
                
                <div class="factors-list">
                    <div class="factor-item d-flex align-items-center mb-3">
                        <div class="factor-icon me-3 bg-primary text-white rounded-circle p-2">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="factor-text">
                            <h5 class="mb-0">Location</h5>
                            <p class="mb-0 text-muted">Prime locations command higher rents</p>
                        </div>
                    </div>
                    
                    <div class="factor-item d-flex align-items-center mb-3">
                        <div class="factor-icon me-3 bg-primary text-white rounded-circle p-2">
                            <i class="fas fa-ruler-combined"></i>
                        </div>
                        <div class="factor-text">
                            <h5 class="mb-0">Property Size</h5>
                            <p class="mb-0 text-muted">Larger properties typically cost more</p>
                        </div>
                    </div>
                    
                    <div class="factor-item d-flex align-items-center mb-3">
                        <div class="factor-icon me-3 bg-primary text-white rounded-circle p-2">
                            <i class="fas fa-bed"></i>
                        </div>
                        <div class="factor-text">
                            <h5 class="mb-0">BHK & Bathrooms</h5>
                            <p class="mb-0 text-muted">More rooms increase the rental value</p>
                        </div>
                    </div>
                    
                    <div class="factor-item d-flex align-items-center mb-3">
                        <div class="factor-icon me-3 bg-primary text-white rounded-circle p-2">
                            <i class="fas fa-couch"></i>
                        </div>
                        <div class="factor-text">
                            <h5 class="mb-0">Furnishing Status</h5>
                            <p class="mb-0 text-muted">Furnished properties command premium rents</p>
                        </div>
                    </div>
                    
                    <div class="factor-item d-flex align-items-center">
                        <div class="factor-icon me-3 bg-primary text-white rounded-circle p-2">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="factor-text">
                            <h5 class="mb-0">Building Age & Amenities</h5>
                            <p class="mb-0 text-muted">Newer buildings with more amenities cost more</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6" data-aos="fade-left">
                <img src="/static/img/rent-factors.jpg" alt="Rental Factors" class="img-fluid rounded shadow">
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section mt-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="cta-content text-center p-5 rounded" data-aos="zoom-in">
                    <h2 class="mb-4">Are You a Property Owner?</h2>
                    <p class="lead mb-4">List your property on our platform and get access to our rent prediction tool to set the optimal rent for maximum returns.</p>
                    <div class="d-flex justify-content-center flex-wrap gap-3">
                        <a href="{{ url_for('register') }}" class="btn btn-light btn-lg">Register Now</a>
                        <a href="{{ url_for('login') }}" class="btn btn-outline-light btn-lg">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3">
        <div class="container">
            <p>&copy; 2025 HRP. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
