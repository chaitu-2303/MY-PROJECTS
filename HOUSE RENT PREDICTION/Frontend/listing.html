<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>RentRight - Listing </title>
    <meta name="description" content="Morden Bootstrap HTML5 Template" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='img/favicon.ico') }}"
    />

    <!-- ======= All CSS Plugins here ======== -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/plugins/swiper-bundle.min.css') }}" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Nunito:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Plugin css -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/vendor/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/plugins/swiper-bundle.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/plugins/glightbox.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/plugins/aos.css') }}" />

    <!-- Custom Style CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  </head>

  <body>
    <!-- Preloader start -->
    <div id="preloader">
      <div class="loader--border"></div>
    </div>
    <!-- Preloader end -->

    <!-- Start header area -->
    <header class="header__section">
      <div class="header__sticky">
        <div class="container-fluid">
          <div
            class="main__header d-flex justify-content-between align-items-center"
          >
            <div class="offcanvas__header--menu__open">
              <a
                class="offcanvas__header--menu__open--btn"
                href="javascript:void(0)"
                data-offcanvas
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="ionicon offcanvas__header--menu__open--svg"
                  viewBox="0 0 512 512"
                >
                  <path
                    fill="currentColor"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-miterlimit="10"
                    stroke-width="32"
                    d="M80 160h352M80 256h352M80 352h352"
                  />
                </svg>
                <span class="visually-hidden">Offcanvas Menu Open</span>
              </a>
            </div>
            <div class="main__logo">
              <a class="main__logo--link" href="{{ url_for('index') }}">
                <img
                  class="main__logo--img"
                  src="{{ url_for('static', filename='img/logo/nav-log.png') }}"
                  alt="logo-img"
                />
              </a>
            </div>
            <div class="main__menu d-none d-lg-block">
              <nav class="main__menu--navigation">
                <ul class="main__menu--wrapper d-flex">
                  <li class="main__menu--items">
                    <a class="main__menu--link" href="{{ url_for('index') }}"
                      ><svg
                        width="11"
                        height="11"
                        viewBox="0 0 11 11"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.5 0L0 4.125V11H3.72581V8.59381C3.72581 7.64165 4.51713 6.87506 5.5 6.87506C6.48287 6.87506 7.27419 7.64165 7.27419 8.59381V11H11V4.125L5.5 0Z"
                          fill="#FA4A4A"
                        />
                      </svg>
                      Home
                  </li>
                  <li class="main__menu--items">
                    <a class="main__menu--link" href="{{ url_for('listing') }}">Listing</a>
                  </li>
                  
                  <li class="main__menu--items">
                    <a class="main__menu--link" href="{{ url_for('rent_prediction') }}">Rent Prediction</a>
                  </li>
                  <li class="main__menu--items">
                    <a class="main__menu--link" href="./dashboard.html">Dashboard</a>
                  </li>
                  
                  
                </ul>
              </nav>
            </div>
            <div class="main__header--right d-flex align-items-center">
              <a class="login__register--link" href="./login.html">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-users"
                >
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <span>Login / Register</span></a
              >
              <a
                class="add__listing--btn solid__btn"
                href="./create-listing.html"
                ><span>Add Listing</span>
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8 15.9992C12.4111 15.9992 16 12.4105 16 7.99962C16 3.58875 12.411 0 8 0C3.58901 0 0 3.58875 0 7.99962C0 12.4105 3.58901 15.9992 8 15.9992ZM4.19508 7.57155H7.57197V4.19439C7.57197 3.95805 7.76381 3.76636 8 3.76636C8.23634 3.76636 8.42804 3.95821 8.42804 4.19439V7.57155H11.8049C12.0413 7.57155 12.233 7.7634 12.233 7.99958C12.233 8.23592 12.0411 8.42762 11.8049 8.42762H8.42804V11.8046C8.42804 12.041 8.23619 12.2327 8 12.2327C7.76366 12.2327 7.57197 12.0408 7.57197 11.8046V8.42762H4.19508C3.95874 8.42762 3.76704 8.23577 3.76704 7.99958C3.76704 7.76324 3.9586 7.57155 4.19508 7.57155Z"
                    fill="white"
                  />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- End header area -->

    <!-- Start Offcanvas header menu -->
    <div class="offcanvas__header">
      <div class="offcanvas__inner">
        <div class="offcanvas__logo">
          <a class="offcanvas__logo_link" href="{{ url_for('index') }}">
            <img
              src="{{ url_for('static', filename='img/logo/nav-log.png') }}"
              alt="Logo-img"
              width="158"
              height="36"
            />
          </a>
          <button class="offcanvas__close--btn" data-offcanvas>close</button>
        </div>

        <nav class="offcanvas__menu">
          <ul class="offcanvas__menu_ul">
            <li class="offcanvas__menu_li">
              <a class="offcanvas__menu_item" href="{{ url_for('index') }}">Home</a>
            </li>
            <li class="offcanvas__menu_li">
              <a class="offcanvas__menu_item" href="{{ url_for('listing') }}">Listing</a>
            </li>

            
            <li class="offcanvas__menu_li">
              <a class="offcanvas__menu_item" href="{{ url_for('rent_prediction') }}">Rent Prediction</a>
            </li>
            <li class="offcanvas__menu_li">
              <a class="offcanvas__menu_item" href="./dashboard.html"
                >Dashboard</a
              >
              <ul class="offcanvas__sub_menu">
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./dashboard.html"
                    class="offcanvas__sub_menu_item"
                    >Dashboard</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./create-listing.html"
                    class="offcanvas__sub_menu_item"
                    >Creat Listing</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a href="./chat.html" class="offcanvas__sub_menu_item"
                    >Chats</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./my-favorites.html"
                    class="offcanvas__sub_menu_item"
                    >My Favorites</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./my-properties.html"
                    class="offcanvas__sub_menu_item"
                    >My Properties</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./my-package.html"
                    class="offcanvas__sub_menu_item"
                    >My Package</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./profile.html"
                    class="offcanvas__sub_menu_item"
                    >My Profile</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./reviews.html"
                    class="offcanvas__sub_menu_item"
                    >Reviews</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./saved-search.html"
                    class="offcanvas__sub_menu_item"
                    >Saved Search</a
                  >
                </li>
                <li class="offcanvas__sub_menu_li">
                  <a
                    href="./settings.html"
                    class="offcanvas__sub_menu_item"
                    >Setting</a
                  >
                </li>
              </ul>
            </li>
            <li class="offcanvas__menu_li">
              
            </li>
            
          </ul>
        </nav>
        <a
          class="add__listing--btn offcanvas__listing--btn solid__btn"
          href="./create-listing.html"
          ><span>Add Listing</span>
          <svg
            width="18"
            height="18"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8 15.9992C12.4111 15.9992 16 12.4105 16 7.99962C16 3.58875 12.411 0 8 0C3.58901 0 0 3.58875 0 7.99962C0 12.4105 3.58901 15.9992 8 15.9992ZM4.19508 7.57155H7.57197V4.19439C7.57197 3.95805 7.76381 3.76636 8 3.76636C8.23634 3.76636 8.42804 3.95821 8.42804 4.19439V7.57155H11.8049C12.0413 7.57155 12.233 7.7634 12.233 7.99958C12.233 8.23592 12.0411 8.42762 11.8049 8.42762H8.42804V11.8046C8.42804 12.041 8.23619 12.2327 8 12.2327C7.76366 12.2327 7.57197 12.0408 7.57197 11.8046V8.42762H4.19508C3.95874 8.42762 3.76704 8.23577 3.76704 7.99958C3.76704 7.76324 3.9586 7.57155 4.19508 7.57155Z"
              fill="white"
            />
          </svg>
        </a>
        <div class="side__menu--footer mobile__menu--footer">
          <div class="side__menu--info">
            <div class="side__menu--info__list">
              <h3 class="side__menu--info__title">Customer Care Phone</h3>
              <p>
                <a class="side__menu--info__text" href="tel:+1234567898"
                  >: (+123) 456-7898</a
                >
              </p>
            </div>
            <div class="side__menu--info__list">
              <h3 class="side__menu--info__title">Need Live Support?</h3>
              <p>
                <a
                  class="side__menu--info__text"
                  href="mailto:example@example.com"
                  >Example@example.com</a
                >
              </p>
            </div>
          </div>
          <div class="side__menu--share d-flex align-items-center">
            <h3 class="side__menu--share__title">Follow us :</h3>
            <ul class="side__menu--share__wrapper d-flex align-items-center">
              <li class="side__menu--share__list">
                <a
                  class="side__menu--share__icon"
                  target="_blank"
                  href="https://www.facebook.com"
                >
                  <svg
                    width="10"
                    height="17"
                    viewBox="0 0 9 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.62891 8.625L8.01172 6.10938H5.57812V4.46875C5.57812 3.75781 5.90625 3.10156 7 3.10156H8.12109V0.941406C8.12109 0.941406 7.10938 0.75 6.15234 0.75C4.15625 0.75 2.84375 1.98047 2.84375 4.16797V6.10938H0.601562V8.625H2.84375V14.75H5.57812V8.625H7.62891Z"
                      fill="currentColor"
                    ></path>
                  </svg>
                  <span class="visually-hidden">Facebook</span>
                </a>
              </li>
              <li class="side__menu--share__list">
                <a
                  class="side__menu--share__icon"
                  target="_blank"
                  href="https://twitter.com"
                >
                  <svg
                    width="16"
                    height="14"
                    viewBox="0 0 14 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M12.5508 2.90625C13.0977 2.49609 13.5898 2.00391 13.9727 1.42969C13.4805 1.64844 12.9062 1.8125 12.332 1.86719C12.9336 1.51172 13.3711 0.964844 13.5898 0.28125C13.043 0.609375 12.4141 0.855469 11.7852 0.992188C11.2383 0.417969 10.5 0.0898438 9.67969 0.0898438C8.09375 0.0898438 6.80859 1.375 6.80859 2.96094C6.80859 3.17969 6.83594 3.39844 6.89062 3.61719C4.51172 3.48047 2.37891 2.33203 0.957031 0.609375C0.710938 1.01953 0.574219 1.51172 0.574219 2.05859C0.574219 3.04297 1.06641 3.91797 1.85938 4.4375C1.39453 4.41016 0.929688 4.30078 0.546875 4.08203V4.10938C0.546875 5.50391 1.53125 6.65234 2.84375 6.92578C2.625 6.98047 2.35156 7.03516 2.10547 7.03516C1.91406 7.03516 1.75 7.00781 1.55859 6.98047C1.91406 8.12891 2.98047 8.94922 4.23828 8.97656C3.25391 9.74219 2.02344 10.207 0.683594 10.207C0.4375 10.207 0.21875 10.1797 0 10.1523C1.25781 10.9727 2.76172 11.4375 4.40234 11.4375C9.67969 11.4375 12.5508 7.08984 12.5508 3.28906C12.5508 3.15234 12.5508 3.04297 12.5508 2.90625Z"
                      fill="currentColor"
                    ></path>
                  </svg>
                  <span class="visually-hidden">Twitter</span>
                </a>
              </li>
              <li class="side__menu--share__list">
                <a
                  class="side__menu--share__icon"
                  target="_blank"
                  href="https://www.instagram.com"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 14 13"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.125 3.60547C5.375 3.60547 3.98047 5.02734 3.98047 6.75C3.98047 8.5 5.375 9.89453 7.125 9.89453C8.84766 9.89453 10.2695 8.5 10.2695 6.75C10.2695 5.02734 8.84766 3.60547 7.125 3.60547ZM7.125 8.80078C6.00391 8.80078 5.07422 7.89844 5.07422 6.75C5.07422 5.62891 5.97656 4.72656 7.125 4.72656C8.24609 4.72656 9.14844 5.62891 9.14844 6.75C9.14844 7.89844 8.24609 8.80078 7.125 8.80078ZM11.1172 3.49609C11.1172 3.08594 10.7891 2.75781 10.3789 2.75781C9.96875 2.75781 9.64062 3.08594 9.64062 3.49609C9.64062 3.90625 9.96875 4.23438 10.3789 4.23438C10.7891 4.23438 11.1172 3.90625 11.1172 3.49609ZM13.1953 4.23438C13.1406 3.25 12.9219 2.375 12.2109 1.66406C11.5 0.953125 10.625 0.734375 9.64062 0.679688C8.62891 0.625 5.59375 0.625 4.58203 0.679688C3.59766 0.734375 2.75 0.953125 2.01172 1.66406C1.30078 2.375 1.08203 3.25 1.02734 4.23438C0.972656 5.24609 0.972656 8.28125 1.02734 9.29297C1.08203 10.2773 1.30078 11.125 2.01172 11.8633C12.2109 11.8633 12.9219 12.5742 13.1953 13.1953C13.1406 14.1797 12.9219 15.0273 12.2109 15.7383C11.5 16.4492 10.625 16.668 9.64062 16.7227C8.62891 16.7773 5.59375 16.7773 4.58203 16.7227C3.59766 16.668 2.75 16.4492 2.01172 15.7383C1.30078 15.0273 1.08203 14.1797 1.02734 13.1953C0.972656 12.1836 0.972656 9.14844 1.02734 8.13672C1.08203 7.15234 1.30078 6.30469 2.01172 5.59375C2.75 4.88281 3.59766 4.66406 4.58203 4.60938C5.59375 4.55469 8.62891 4.55469 9.64062 4.60938C10.625 4.66406 11.5 4.88281 12.2109 5.59375C12.9219 6.30469 13.1406 7.15234 13.1953 8.13672C13.25 9.14844 13.25 12.1836 13.1953 13.1953Z"
                      fill="currentColor"
                    ></path>
                  </svg>
                  <span class="visually-hidden">Instagram</span>
                </a>
              </li>
              <li class="side__menu--share__list">
                <a
                  class="side__menu--share__icon"
                  target="_blank"
                  href="https://www.pinterest.com"
                >
                  <svg
                    width="14"
                    height="16"
                    viewBox="0 0 15 18"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M14.6713 6.71093C14.6764 7.71873 14.5406 8.65694 14.2638 9.52555C14.0104 10.394 13.6393 11.146 13.1503 11.7813C12.6612 12.3932 12.0778 12.8883 11.4001 13.2668C10.7222 13.6218 9.97304 13.7897 9.15262 13.7705C8.87149 13.7954 8.59012 13.7734 8.30852 13.7045C8.05023 13.6121 7.80366 13.5196 7.56881 13.427C7.35727 13.3109 7.16906 13.1713 7.00416 13.008C6.83926 12.8448 6.70957 12.6931 6.61511 12.553C6.47736 13.1162 6.36257 13.5856 6.27074 13.961C6.17891 14.3365 6.09838 14.6299 6.02915 14.8412C5.98323 15.0289 5.94879 15.1697 5.92584 15.2636C5.9262 15.3339 5.92632 15.3573 5.9262 15.3339C5.85696 15.5452 5.78767 15.7448 5.71832 15.9326C5.64897 16.1205 5.56796 16.3201 5.47529 16.5315C5.3825 16.7195 5.27793 16.8958 5.16158 17.0605C5.06867 17.225 4.97576 17.3896 4.88285 17.5541C4.60256 17.743 4.38033 17.8262 4.21615 17.8036C4.07553 17.8043 3.95804 17.7463 3.86369 17.6296C3.79278 17.5128 3.74531 17.3959 3.72127 17.2788C3.69736 17.1852 3.68534 17.1266 3.68522 17.1032C3.66094 16.9393 3.64832 16.7635 3.64736 16.576C3.64629 16.3651 3.64527 16.1659 3.64431 15.9784C3.66667 15.7673 3.68902 15.5563 3.71138 15.3452C3.75718 15.1341 3.80309 14.9463 3.84913 14.782C3.84901 14.7586 3.86037 14.6882 3.8832 14.5709C3.92936 14.43 3.99829 14.1602 4.09 13.7612C4.18159 13.3389 4.30756 12.764 4.46791 12.0366C4.62825 11.3092 4.84599 10.3472 5.12112 9.15044C5.05009 9.01017 4.9906 8.8347 4.94264 8.624C4.89469 8.41331 4.85863 8.23771 4.83448 8.0972C4.8102 7.93326 4.79776 7.7927 4.79716 7.67551C4.79657 7.55833 4.79633 7.51145 4.79645 7.53489C4.79441 7.13646 4.83948 6.78466 4.93167 6.4795C5.04718 6.15078 5.18637 5.86881 5.34923 5.6336C5.53541 5.37483 5.74538 5.18626 5.97915 5.06787C6.23624 4.92593 6.49363 4.84258 6.75132 4.81782C6.98581 4.84006 7.18527 4.88592 7.34969 4.95539C7.53755 5.02474 7.69049 5.14115 7.80851 5.30461C7.92654 5.46807 8.00947 5.64343 8.0573 5.83069C8.12845 5.99439 8.16463 6.19342 8.16583 6.4278C8.16691 6.63873 8.13307 6.89672 8.06432 7.20176C7.99544 7.48337 7.914... [truncated]
                      fill="currentColor"
                    />
                  </svg>
                  <span class="visually-hidden">Pinterest</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- End Offcanvas header menu -->

    <main class="main__content_wrapper">
      <!-- Breadcrumb section -->
      <section class="breadcrumb__section section--padding">
        <div class="container">
          <div
            class="breadcrumb__content text-center"
            data-aos="fade-up"
            data-aos-duration="1200"
            data-aos-delay="100"
          >
            <h1 class="breadcrumb__title h2"><span>Listing</span> Page</h1>
            <ul class="breadcrumb__menu d-flex justify-content-center">
              <li class="breadcrumb__menu--items">
                <a class="breadcrumb__menu--link" href="./index.html">Home</a>
              </li>
              <li>
                <span
                  ><svg
                    width="6"
                    height="10"
                    viewBox="0 0 6 10"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M5.22321 4.65179C5.28274 4.71131 5.3125 4.77976 5.3125 4.85714C5.3125 4.93452 5.28274 5.00298 5.22321 5.0625L1.0625 9.22321C1.00298 9.28274 0.934524 9.3125 0.857143 9.3125C0.779762 9.3125 0.71131 9.28274 0.651786 9.22321L0.205357 8.77679C0.145833 8.71726 0.116071 8.64881 0.116071 8.57143C0.116071 8.49405 0.145833 8.4256 0.205357 8.36607L3.71429 4.85714L0.205357 1.34821C0.145833 1.28869 0.116071 1.22024 0.116071 1.14286C0.116071 1.06548 0.145833 0.997023 0.205357 0.9375L0.651786 0.491071C0.71131 0.431547 0.779762 0.401785 0.857143 0.401785C0.934524 0.401785 1.00298 0.431547 1.0625 0.491071L5.22321 4.65179Z"
                      fill="#706C6C"
                    />
                  </svg>
                </span>
              </li>
              <li><span class="breadcrumb__menu--text">Listing Page </span></li>
            </ul>
          </div>
        </div>
      </section>
      <!-- Breadcrumb section .\ -->

      <!-- Start listing page section -->
      <section class="listing__page--section section--padding">
        <div class="container">
          <div class="row">
            <div class="col-lg-4">
              <div class="listing__widget">
                <div class="listing__widget--inner">
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Search Property</h2>
                  <div class="widget__search">
                    <form id="propertySearchForm">
                      <div class="widget__search--input position__relative">
                        <label>
                          <input class="widget__search--input__field" type="text" placeholder="Search by location" id="searchInput" />
                        </label>
                        <button class="widget__search--btn" type="submit">
                          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.16667 16.6667C13.4348 16.6667 16.9444 13.1571 16.9444 8.88892C16.9444 4.62075 13.4348 1.11108 9.16667 1.11108C4.8985 1.11108 1.38889 4.62075 1.38889 8.88892C1.38889 13.1571 4.8985 16.6667 9.16667 16.6667Z" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M18.6111 18.6111L14.3556 14.3556" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                          </svg>
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Property Category</h2>
                  <input id="categoryInput" class="filter__select--input" list="categoryList" placeholder="Select category" />
                  <datalist id="categoryList"></datalist>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">City</h2>
                  <input id="cityInput" class="filter__select--input" list="cityList" placeholder="Select city" />
                  <datalist id="cityList"></datalist>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Price Range</h2>
                  <div class="widget__price--filtering">
                    <div class="price-input">
                      <input type="number" class="input-min" value="500" id="minPrice" />
                      <div class="separator">-</div>
                      <input type="number" class="input-max" value="5000" id="maxPrice" />
                    </div>
                    <div class="price-slider">
                      <div class="progress"></div>
                    </div>
                  <div class="range-input">
                    <input type="range" class="range-min" min="0" max="10000" value="500" step="100" id="minPriceRange" />
                    <input type="range" class="range-max" min="0" max="10000" value="5000" step="100" id="maxPriceRange" />
                  </div>
                  <button class="price__filtering--btn" id="priceFilterBtn">Filter</button>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Bedrooms</h2>
                  <input id="bedroomsInput" class="filter__select--input" list="bedroomsList" placeholder="Select bedrooms" />
                  <datalist id="bedroomsList"></datalist>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Bathrooms</h2>
                  <input id="bathroomsInput" class="filter__select--input" list="bathroomsList" placeholder="Select bathrooms" />
                  <datalist id="bathroomsList"></datalist>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Furnishing</h2>
                  <input id="furnishingInput" class="filter__select--input" list="furnishingList" placeholder="Select furnishing" />
                  <datalist id="furnishingList"></datalist>
                </div>
                <div class="widget__list mb-40">
                  <h2 class="widget__title mb-30">Tenant Preferred</h2>
                  <input id="tenantInput" class="filter__select--input" list="tenantList" placeholder="Select tenant type" />
                  <datalist id="tenantList"></datalist>
                </div>
                </div>
              </div>
            </div>
            </div>
            <div class="col-lg-8">
              <div class="listing__page--wrapper">
                <div class="listing__header d-flex justify-content-between align-items-center" data-aos="fade-up" data-aos-duration="1200" data-aos-delay="50">
                  <div class="listing__header--left">
                    <p class="results__cout--text">Showing <span id="propertyCount">{{ properties|length }}</span> Properties</p>
                  </div>
                  <div class="listing__header--right d-flex align-items-center">
                    <div class="recently__select d-flex align-items-center">
                      <span class="recently__select--icon">
                        <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M7.42426 9.76048L10.1339 12.6088C10.3985 12.8869 10.8273 12.8869 11.0919 12.6088L13.8016 9.76048C14.0661 9.48239 14.0661 9.03159 13.8016 8.7535C13.537 8.47541 13.1082 8.47541 12.8436 8.7535L11.2903 10.3862V0.712076C11.2903 0.318811 10.987 0 10.6129 0C10.2388 0 9.9355 0.318811 9.9355 0.712076V10.3862L8.38222 8.7535C8.11766 8.47541 7.68881 8.47541 7.42426 8.7535C7.1597 9.03159 7.1597 9.48239 7.42426 9.76048ZM3.86611 0.208562C3.60156 -0.0695178 3.17264 -0.0695178 2.90809 0.208562L0.19841 3.05687C-0.0661366 3.33495 -0.0661366 3.78581 0.19841 4.06389C0.462956 4.34197 0.891881 4.34197 1.15643 4.06389L2.70968 2.43118V12.1053C2.70968 12.4985 3.01297 12.8174 3.3871 12.8174C3.76123 12.8174 4.06452 12.4985 4.06452 12.1053V2.43118L5.6178 4.06389C5.88236 4.34197 6.31121 4.34197 6.57576 4.06389C6.84032 3.78581 6.84032 3.33495 6.57576 3.05687L3.86611 0.208562Z" fill="currentColor" />
                        </svg>
                      </span>
                      <div class="select">
                        <select id="sortSelect">
                          <option selected value="1">Recently Added</option>
                          <option value="2">Price: Low to High</option>
                          <option value="3">Price: High to Low</option>
                          <option value="4">Newest</option>
                        </select>
                      </div>
                    </div>
                    <div class="product__view--btn d-none d-lg-block">
                      <ul class="product__view--btn__wrapper d-flex">
                        <li class="product__view--btn__list">
                          <a class="product__view--btn__link product__view--btn__link--grid active" data-view="grid" href="#">
                            <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M9.5 2.5H2.5V9.5H9.5V2.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M22.5 2.5H15.5V9.5H22.5V2.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M22.5 15.5H15.5V22.5H22.5V15.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M9.5 15.5H2.5V22.5H9.5V15.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                          </a>
                        </li>
                        <li class="product__view--btn__list">
                          <a class="product__view--btn__link product__view--btn__link--list" data-view="list" href="#">
                            <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M8.5 6.5H21.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M8.5 12.5H21.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M8.5 18.5H21.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M3.5 6.5H3.51" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M3.5 12.5H3.51" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                              <path d="M3.5 18.5H3.51" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                
                <!-- Property listings will be inserted here -->
                <div id="propertyContainer">
                  <!-- Properties will be loaded dynamically -->
                </div>
                <div id="paginationContainer" class="page__pagination--area">
                  <ul id="pagination" class="page__pagination--wrapper d-flex align-items-center justify-content-center"></ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- End listing page section -->
    </main>
    <!-- End main content -->

    <!-- Start footer section -->
    <footer class="footer__section section--padding">
      <div class="container">
        <div class="footer__top mb-50">
          <div class="row row-cols-md-2 row-cols-sm-2 row-cols-1">
            <div class="col">
              <div class="footer__logo mb-25">
                <a class="footer__logo--link" href="index.html">
                  <img src="{{ url_for('static', filename='img/logo/nav-log.png') }}" alt="footer-logo" />
                </a>
              </div>
              <p class="footer__desc">
                We are a team of designers and developers that create high quality Magento, Prestashop, Opencart.
              </p>
            </div>
            <div class="col">
              <div class="footer__social d-flex justify-content-md-end">
                <h3 class="footer__social--title">Follow us on</h3>
                <ul class="footer__social--list d-flex">
                  <li class="footer__social--item">
                    <a class="footer__social--link" target="_blank" href="https://www.facebook.com">
                      <svg width="10" height="17" viewBox="0 0 9 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.62891 8.625L8.01172 6.10938H5.57812V4.46875C5.57812 3.75781 5.90625 3.10156 7 3.10156H8.12109V0.941406C8.12109 0.941406 7.10938 0.75 6.15234 0.75C4.15625 0.75 2.84375 1.98047 2.84375 4.16797V6.10938H0.601562V8.625H2.84375V14.75H5.57812V8.625H7.62891Z" fill="currentColor" />
                      </svg>
                      <span class="visually-hidden">Facebook</span>
                    </a>
                  </li>
                  <li class="footer__social--item">
                    <a class="footer__social--link" target="_blank" href="https://twitter.com">
                      <svg width="16" height="14" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.5508 2.90625C13.0977 2.49609 13.5898 2.00391 13.9727 1.42969C13.4805 1.64844 12.9062 1.8125 12.332 1.86719C12.9336 1.51172 13.3711 0.964844 13.5898 0.28125C13.043 0.609375 12.4141 0.855469 11.7852 0.992188C11.2383 0.734375 10.5 0.0898438 9.67969 0.0898438C8.09375 0.0898438 6.80859 1.375 6.80859 2.96094C6.80859 3.17969 6.83594 3.39844 6.89062 3.61719C4.51172 3.48047 2.37891 2.33203 0.957031 0.609375C0.710938 1.01953 0.574219 1.51172 0.574219 2.05859C0.574219 3.04297 1.06641 3.91797 1.85938 4.4375C1.39453 4.41016 0.929688 4.30078 0.546875 4.08203V4.10938C0.546875 5.50391 1.53125 6.65234 2.84375 6.92578C2.625 6.98047 2.35156 7.03516 2.10547 7.03516C1.91406 7.03516 1.75 7.00781 1.55859 6.98047C1.91406 8.12891 2.98047 8.94922 4.23828 8.97656C3.25391 9.74219 2.02344 10.207 0.683594 10.207C0.4375 10.207 0.21875 10.1797 0 10.1523C1.25781 10.9727 2.76172 11.4375 4.40234 11.4375C9.67969 11.4375 12.5508 7.08984 12.5508 3.28906C12.5508 3.15234 12.5508 3.04297 12.5508 2.90625Z" fill="currentColor" />
                      </svg>
                      <span class="visually-hidden">Twitter</span>
                    </a>
                  </li>
                  <li class="footer__social--item">
                    <a class="footer__social--link" target="_blank" href="https://www.instagram.com">
                      <svg width="16" height="16" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.125 3.60547C5.375 3.60547 3.98047 5.02734 3.98047 6.75C3.98047 8.5 5.375 9.89453 7.125 9.89453C8.84766 9.89453 10.2695 8.5 10.2695 6.75C10.2695 5.02734 8.84766 3.60547 7.125 3.60547ZM7.125 8.80078C6.00391 8.80078 5.07422 7.89844 5.07422 6.75C5.07422 5.62891 5.97656 4.72656 7.125 4.72656C8.24609 4.72656 9.14844 5.62891 9.14844 6.75C9.14844 7.89844 8.24609 8.80078 7.125 8.80078ZM11.1172 3.49609C11.1172 3.08594 10.7891 2.75781 10.3789 2.75781C9.96875 2.75781 9.64062 3.08594 9.64062 3.49609C9.64062 3.90625 9.96875 4.23438 10.3789 4.23438C10.7891 4.23438 11.1172 3.90625 11.1172 3.49609Z" fill="currentColor" />
                      </svg>
                      <span class="visually-hidden">Instagram</span>
                    </a>
                  </li>
                  <li class="footer__social--item">
                    <a class="footer__social--link" target="_blank" href="https://www.pinterest.com">
                      <svg width="14" height="16" viewBox="0 0 15 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.6713 6.71093C14.6764 7.71873 14.5406 8.65694 14.2638 9.52555C14.0104 10.394 13.6393 11.146 13.1503 11.7813C12.6612 12.3932 12.0778 12.8883 11.4001 13.2668C10.7222 13.6218 9.97304 13.7897 9.15262 13.7705C8.87149 13.7954 8.59012 13.7734 8.30852 13.7045C8.05023 13.6121 7.80366 13.5196 7.56881 13.427C7.35727 13.3109 7.16906 13.1713 7.00416 13.008C6.83926 12.8448 6.70957 12.6931 6.61511 12.553C6.47736 13.1162 6.36257 13.5856 6.27074 13.961C6.17891 14.3365 6.09838 14.6299 6.02915 14.8412C5.98323 15.0289 5.94879 15.1697 5.92584 15.2636C5.9262 15.3339 5.92632 15.3573 5.9262 15.3339C5.85696 15.5452 5.78767 15.7448 5.71832 15.9326C5.64897 16.1205 5.56796 16.3201 5.47529 16.5315C5.3825 16.7195 5.27793 16.8958 5.16158 17.0605C5.06867 17.225 4.97576 17.3896 4.88285 17.5541C4.60256 17.743 4.38033 17.8262 4.21615 17.8036C4.07553 17.8043 3.95804 17.7463 3.86369 17.6296C3.79278 17.5128 3.74531 17.3959 3.72127 17.2788C3.69736 17.1852 3.68534 17.1266 3.68522 17.1032C3.66094 16.9393 3.64832 16.7635 3.64736 16.576C3.64629 16.3651 3.64527 16.1659 3.64431 15.9784C3.66667 15.7673 3.68902 15.5563 3.71138 15.3452C3.75718 15.1341 3.80309 14.9463 3.84913 14.782C3.84901 14.7586 3.86037 14.6882 3.8832 14.5709C3.92936 14.43 3.99829 14.1602 4.09 13.7612C4.18159 13.3389 4.30756 12.764 4.46791 12.0366C4.62825 11.3092 4.84599 10.3472 5.12112 9.15044C5.05009 9.01017 4.9906 8.8347 4.94264 8.624C4.89469 8.41331 4.85863 8.23771 4.83448 8.0972C4.8102 7.93326 4.79776 7.7927 4.79716 7.67551C4.79657 7.55833 4.79633 7.51145 4.79645 7.53489C4.79441 7.13646 4.83948 6.78466 4.93167 6.4795C5.04718 6.15078 5.18637 5.86881 5.34923 5.6336C5.53541 5.37483 5.74538 5.18626 5.97915 5.06787C6.23624 4.92593 6.49363 4.84258 6.75132 4.81782C6.98581 4.84006 7.18527 4.88592 7.34969 4.95539C7.53755 5.02474 7.69049 5.14115 7.80851 5.30461C7.92654 5.46807 8.00947 5.64343 8.0573 5.83069C8.12845 5.99439 8.16463 6.19342 8.16583 6.4278C8.16691 6.63873 8.13307 6.89672 8.06432 7.20176C7.99544 7.48337 7.914... [truncated]
                      </svg>
                      <span class="visually-hidden">Pinterest</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="footer__bottom">
          <div class="container">
            <div class="footer__bottom--wrapper">
              <div class="footer__copyright text-center">
                <p class="footer__copyright--text">
                  Â© 2024 RentRight. All Rights Reserved.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- End footer section -->

    <!-- JavaScript files -->
    <script src="{{ url_for('static', filename='js/vendor/popper.js') }}"></script>
    <script src="{{ url_for('static', filename='js/vendor/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/plugins/swiper-bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/plugins/glightbox.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/plugins/aos.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    
    <!-- Property listing functionality -->
    <script>
      // Property data will be loaded from the server
      let allProperties = {{ properties|tojson }};
      let filteredProperties = [...allProperties];
      let currentView = 'grid';
      let pageSize = 12;
      let currentPage = 1;
      
      // DOM elements
      const propertyContainer = document.getElementById('propertyContainer');
      const propertyCount = document.getElementById('propertyCount');
      const searchForm = document.getElementById('propertySearchForm');
      const searchInput = document.getElementById('searchInput');
      const categoryInput = document.getElementById('categoryInput');
      const cityInput = document.getElementById('cityInput');
      const minPriceInput = document.getElementById('minPrice');
      const maxPriceInput = document.getElementById('maxPrice');
      const minPriceRange = document.getElementById('minPriceRange');
      const maxPriceRange = document.getElementById('maxPriceRange');
      const priceFilterBtn = document.getElementById('priceFilterBtn');
      const sortSelect = document.getElementById('sortSelect');
      const viewButtons = document.querySelectorAll('[data-view]');
      const bedroomsInput = document.getElementById('bedroomsInput');
      const bathroomsInput = document.getElementById('bathroomsInput');
      const furnishingInput = document.getElementById('furnishingInput');
      const tenantInput = document.getElementById('tenantInput');
      const paginationEl = document.getElementById('pagination');
      
      // Initialize the page
      document.addEventListener('DOMContentLoaded', function() {
        renderCategoryOptions();
        renderCityOptions();
        renderFurnishingOptions();
        renderTenantOptions();
        renderBedroomOptions();
        renderBathroomOptions();
        applyQueryParams();
        renderProperties();
        setupEventListeners();
        updatePriceRangeSliders();
      });

      function applyQueryParams() {
        try {
          const params = new URLSearchParams(window.location.search);
          const title = params.get('title') || '';
          const city = params.get('city') || '';
          const address = params.get('address') || '';
          const category = params.get('category') || '';
          const bedrooms = params.get('bedrooms') || '';
          const bathrooms = params.get('bathrooms') || '';
          const furnishing = params.get('furnishing_status') || '';
          const tenant = params.get('tenant_preferred') || '';
          const price = params.get('price');
          const min_price = params.get('min_price');
          const max_price = params.get('max_price');

          if (title || city || address) {
            searchInput.value = city || title || address || '';
          }
          if (category) {
            categoryInput.value = category;
          }
          if (city) {
            cityInput.value = city;
          }
          if (bedrooms) {
            bedroomsInput.value = bedrooms;
          }
          if (bathrooms) {
            bathroomsInput.value = bathrooms;
          }
          if (furnishing) {
            furnishingInput.value = furnishing;
          }
          if (tenant) {
            tenantInput.value = tenant;
          }
          if (min_price || max_price || price) {
            minPriceInput.value = parseInt(min_price || 0) || 0;
            maxPriceInput.value = parseInt(max_price || price || 10000) || 10000;
          }
          updatePriceRangeSliders();
          filterProperties();
        } catch (e) {}
      }

      function slugify(s) {
        return String(s || '')
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-|-$|\s+/g, '');
      }

      function debounce(fn, delay = 300) {
        let t;
        return function() {
          clearTimeout(t);
          const ctx = this, args = arguments;
          t = setTimeout(function(){ fn.apply(ctx, args); }, delay);
        };
      }

      function renderCategoryOptions() {
        const dl = document.getElementById('categoryList');
        const categories = Array.from(new Set(allProperties.map(p => p.category || 'Unknown')));
        const options = ['<option value="All">All</option>'].concat(categories.map(cat => `<option value="${cat}"></option>`));
        dl.innerHTML = options.join('');
      }

      function renderCityOptions() {
        const cities = Array.from(new Set(allProperties.map(p => p.location).filter(Boolean))).sort();
        const dl = document.getElementById('cityList');
        const options = ['<option value="All Cities"></option>'].concat(cities.map(c => `<option value="${c}"></option>`));
        dl.innerHTML = options.join('');
      }

      function renderFurnishingOptions() {
        const vals = Array.from(new Set(allProperties.map(p => p.furnishing_status || '').filter(Boolean)));
        const dl = document.getElementById('furnishingList');
        const options = ['<option value="All"></option>'].concat(vals.map(v => `<option value="${v}"></option>`));
        dl.innerHTML = options.join('');
      }

      function renderTenantOptions() {
        const vals = Array.from(new Set(allProperties.map(p => p.tenant_preferred || '').filter(Boolean)));
        const dl = document.getElementById('tenantList');
        const options = ['<option value="All"></option>'].concat(vals.map(v => `<option value="${v}"></option>`));
        dl.innerHTML = options.join('');
      }

      function renderBedroomOptions() {
        const dl = document.getElementById('bedroomsList');
        const nums = Array.from(new Set(allProperties.map(p => parseInt(p.bedrooms || 0)).filter(n => !isNaN(n)))).sort((a,b)=>a-b);
        const base = [1,2,3,4,5];
        const set = Array.from(new Set(base.concat(nums))).sort((a,b)=>a-b);
        const options = ['<option value="All"></option>'].concat(set.map(n => `<option value="${n}"></option>`)).concat(['<option value="5+"></option>']);
        dl.innerHTML = options.join('');
      }

      function renderBathroomOptions() {
        const dl = document.getElementById('bathroomsList');
        const nums = Array.from(new Set(allProperties.map(p => parseInt(p.bathrooms || 0)).filter(n => !isNaN(n)))).sort((a,b)=>a-b);
        const base = [1,2,3,4,5];
        const set = Array.from(new Set(base.concat(nums))).sort((a,b)=>a-b);
        const options = ['<option value="All"></option>'].concat(set.map(n => `<option value="${n}"></option>`)).concat(['<option value="5+"></option>']);
        dl.innerHTML = options.join('');
      }
      
      // Setup event listeners
      function setupEventListeners() {
        // Search functionality
        searchForm.addEventListener('submit', function(e) {
          e.preventDefault();
          filterProperties();
        });
        searchInput.addEventListener('input', debounce(filterProperties, 300));
        
        categoryInput.addEventListener('change', filterProperties);
        cityInput.addEventListener('input', debounce(filterProperties, 200));
        furnishingInput.addEventListener('change', filterProperties);
        tenantInput.addEventListener('change', filterProperties);
        bedroomsInput.addEventListener('change', filterProperties);
        bathroomsInput.addEventListener('change', filterProperties);
        
        // Price range inputs
        minPriceInput.addEventListener('input', updatePriceRangeSliders);
        maxPriceInput.addEventListener('input', updatePriceRangeSliders);
        minPriceRange.addEventListener('input', updatePriceInputs);
        maxPriceRange.addEventListener('input', updatePriceInputs);
        
        // Price filter button
        priceFilterBtn.addEventListener('click', filterProperties);
        
        // Sort functionality
        sortSelect.addEventListener('change', sortProperties);
        
        // View toggle
        viewButtons.forEach(button => {
          button.addEventListener('click', function() {
            viewButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            currentView = this.dataset.view;
            renderProperties();
          });
        });
      }
      
      // Update price range sliders
      function updatePriceRangeSliders() {
        const minVal = parseInt(minPriceInput.value) || 0;
        const maxVal = parseInt(maxPriceInput.value) || 10000;
        minPriceRange.value = minVal;
        maxPriceRange.value = maxVal;
      }
      
      // Update price inputs from sliders
      function updatePriceInputs() {
        minPriceInput.value = minPriceRange.value;
        maxPriceInput.value = maxPriceRange.value;
      }
      
      // Filter properties based on search, category, and price
      function filterProperties() {
        const searchTerm = searchInput.value.toLowerCase();
        const activeCategory = categoryInput.value.trim() ? slugify(categoryInput.value.trim()) : 'all';
        const activeFurnishing = furnishingInput.value.trim() ? slugify(furnishingInput.value.trim()) : 'all';
        const activeTenant = tenantInput.value.trim() ? slugify(tenantInput.value.trim()) : 'all';
        const selectedCity = cityInput.value.trim() || 'all';
        const minPrice = parseInt(minPriceInput.value) || 0;
        const maxPrice = parseInt(maxPriceInput.value) || 10000;
        const selectedBeds = bedroomsInput.value.trim();
        const selectedBaths = bathroomsInput.value.trim();
        
        filteredProperties = allProperties.filter(property => {
          const matchesSearch = !searchTerm || 
            property.title.toLowerCase().includes(searchTerm) ||
            property.location.toLowerCase().includes(searchTerm) ||
            property.description.toLowerCase().includes(searchTerm);
          
          const matchesCategory = activeCategory === 'all' || slugify(property.category) === activeCategory;
          const matchesCity = selectedCity === 'all' || property.location === selectedCity;
          
          const matchesPrice = property.price >= minPrice && property.price <= maxPrice;

          const beds = parseInt(property.bedrooms || 0);
          const baths = parseInt(property.bathrooms || 0);
          const matchesBeds = !selectedBeds || selectedBeds === 'All' ? true : (selectedBeds.endsWith('+') ? beds >= parseInt(selectedBeds) : beds === parseInt(selectedBeds));
          const matchesBaths = !selectedBaths || selectedBaths === 'All' ? true : (selectedBaths.endsWith('+') ? baths >= parseInt(selectedBaths) : baths === parseInt(selectedBaths));

          const matchesFurnishing = activeFurnishing === 'all' || slugify(property.furnishing_status || '') === activeFurnishing;
          const matchesTenant = activeTenant === 'all' || slugify(property.tenant_preferred || '') === activeTenant;
          
          return matchesSearch && matchesCategory && matchesCity && matchesPrice && matchesBeds && matchesBaths && matchesFurnishing && matchesTenant;
        });
        
        currentPage = 1;
        sortProperties();
      }
      
      // Sort properties
      function sortProperties() {
        const sortValue = sortSelect.value;
        
        switch(sortValue) {
          case '2': // Price: Low to High
            filteredProperties.sort((a, b) => a.price - b.price);
            break;
          case '3': // Price: High to Low
            filteredProperties.sort((a, b) => b.price - a.price);
            break;
          case '4': // Newest
            filteredProperties.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
            break;
          default: // Recently Added (newest first)
            filteredProperties.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
        }
        
        currentPage = 1;
        renderProperties();
      }
      
      // Render properties
      function renderProperties() {
        propertyCount.textContent = filteredProperties.length;
        const startIndex = (currentPage - 1) * pageSize;
        const endIndex = startIndex + pageSize;
        const displayProps = filteredProperties.slice(startIndex, endIndex);
        
        if (displayProps.length === 0) {
          propertyContainer.innerHTML = `
            <div class="col-12 text-center">
              <div class="no-results">
                <h3>No properties found</h3>
                <p>Try adjusting your search criteria</p>
              </div>
            </div>
          `;
          if (paginationEl) paginationEl.innerHTML = '';
          return;
        }
        
        if (currentView === 'grid') {
          renderGridView(displayProps);
        } else {
          renderListView(displayProps);
        }

        renderPagination();
      }
      function renderPagination() {
        if (!paginationEl) return;
        const totalPages = Math.max(1, Math.ceil(filteredProperties.length / pageSize));
        let html = '';
        html += `<li><a href="#" class="page__pagination--link" data-page="prev">&laquo;</a></li>`;
        const windowSize = 5;
        let start = Math.max(1, currentPage - Math.floor(windowSize/2));
        let end = Math.min(totalPages, start + windowSize - 1);
        if (end - start + 1 < windowSize) start = Math.max(1, end - windowSize + 1);
        for (let i = start; i <= end; i++) {
          html += `<li><a href="#" class="page__pagination--link ${i===currentPage?'active':''}" data-page="${i}">${i}</a></li>`;
        }
        html += `<li><a href="#" class="page__pagination--link" data-page="next">&raquo;</a></li>`;
        paginationEl.innerHTML = html;
        paginationEl.querySelectorAll('.page__pagination--link').forEach(a => {
          a.addEventListener('click', function(e){
            e.preventDefault();
            const val = this.getAttribute('data-page');
            const total = Math.max(1, Math.ceil(filteredProperties.length / pageSize));
            if (val === 'prev') currentPage = Math.max(1, currentPage - 1);
            else if (val === 'next') currentPage = Math.min(total, currentPage + 1);
            else currentPage = parseInt(val);
            renderProperties();
          });
        });
      }
      
      // Render grid view
      function renderGridView(items) {
        const row = document.createElement('div');
        row.className = 'row row-cols-lg-2 row-cols-md-2 row-cols-1 mb--n30';
        
        items.forEach(property => {
          const propertyCard = createPropertyCard(property);
          const col = document.createElement('div');
          col.className = 'col mb-30';
          col.appendChild(propertyCard);
          row.appendChild(col);
        });
        
        propertyContainer.innerHTML = '';
        propertyContainer.appendChild(row);
      }
      
      // Render list view
      function renderListView(items) {
        const row = document.createElement('div');
        row.className = 'row';
        
        items.forEach(property => {
          const propertyCard = createPropertyListCard(property);
          const col = document.createElement('div');
          col.className = 'col-12 mb-30';
          col.appendChild(propertyCard);
          row.appendChild(col);
        });
        
        propertyContainer.innerHTML = '';
        propertyContainer.appendChild(row);
      }
      
      // Create property card for grid view
      function createPropertyCard(property) {
        const card = document.createElement('div');
        card.className = 'product__card property-card';
        const detailsUrl = getDetailsUrl(property);
        card.innerHTML = `
          <div class="product__card--thumbnail">
            <a class="product__card--thumbnail__link" href="${detailsUrl}">
              <img class="product__card--thumbnail__img" src="${getPropertyImage(property)}" alt="${property.title}" loading="lazy" onerror="this.onerror=null;this.src='{{ url_for('static', filename='img/property/featured-grid1.jpg') }}'">
            </a>
            <div class="product__card--badge">
              <span class="product__card--badge__field">${property.category}</span>
            </div>
          </div>
          <div class="product__card--content">
            <h3 class="product__card--title">
              <a href="${detailsUrl}">${property.title}</a>
            </h3>
            <div class="product__card--price">
              <span class="product__card--price__new">â¹${Number(property.price || 0).toLocaleString('en-IN')}/mo</span>
            </div>
            <div class="property__badges property__badges--inline">
              <span class="property__badge" title="Beds"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 11h16a3 3 0 013 3v4H1v-4a3 3 0 013-3z" fill="currentColor"/><path d="M6 7h8a2 2 0 012 2v2H4V9a2 2 0 012-2z" fill="currentColor"/></svg><span>${property.bedrooms || 0}</span></span>
              <span class="property__badge" title="Baths"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 10h14v8a3 3 0 01-3 3H8a3 3 0 01-3-3v-8z" fill="currentColor"/><path d="M7 6a3 3 0 016 0v4H7V6z" fill="currentColor"/></svg><span>${property.bathrooms || 0}</span></span>
              <span class="property__badge" title="Sq.ft"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/><path d="M12 4v16M4 12h16" stroke="currentColor" stroke-width="2"/></svg><span>${formatSqft(property.area)}</span></span>
            </div>
            
          </div>
        `;
        return card;
      }
      
      // Create property card for list view
      function createPropertyListCard(property) {
        const card = document.createElement('div');
        card.className = 'product__card product__card--list property-card';
        const detailsUrl = getDetailsUrl(property);
        card.innerHTML = `
          <div class="product__card--thumbnail">
            <a class="product__card--thumbnail__link" href="${detailsUrl}">
              <img class="product__card--thumbnail__img" src="${getPropertyImage(property)}" alt="${property.title}" loading="lazy" onerror="this.onerror=null;this.src='{{ url_for('static', filename='img/property/featured-grid1.jpg') }}'">
            </a>
            <div class="product__card--badge">
              <span class="product__card--badge__field">${property.category}</span>
            </div>
          </div>
          <div class="product__card--content">
            <h3 class="product__card--title">
              <a href="${detailsUrl}">${property.title}</a>
            </h3>
            <div class="product__card--price">
              <span class="product__card--price__new">â¹${Number(property.price || 0).toLocaleString('en-IN')}/mo</span>
            </div>
            <div class="property__badges property__badges--inline">
              <span class="property__badge" title="Beds"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 11h16a3 3 0 013 3v4H1v-4a3 3 0 013-3z" fill="currentColor"/><path d="M6 7h8a2 2 0 012 2v2H4V9a2 2 0 012-2z" fill="currentColor"/></svg><span>${property.bedrooms || 0}</span></span>
              <span class="property__badge" title="Baths"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 10h14v8a3 3 0 01-3 3H8a3 3 0 01-3-3v-8z" fill="currentColor"/><path d="M7 6a3 3 0 016 0v4H7V6z" fill="currentColor"/></svg><span>${property.bathrooms || 0}</span></span>
              <span class="property__badge" title="Sq.ft"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/><path d="M12 4v16M4 12h16" stroke="currentColor" stroke-width="2"/></svg><span>${formatSqft(property.area)}</span></span>
            </div>
            
          </div>
        `;
        return card;
      }

      function getPropertyImage(property) {
        const DEFAULT_IMG = '{{ url_for('static', filename='img/property/featured-grid1.jpg') }}';
        const src = String(property.image_url || '');
        const isAvatar = /author|profile|user|avatar/i.test(src) || src.endsWith('properties-author2.png');
        if (!src || isAvatar) return DEFAULT_IMG;
        return src;
      }

      function getDetailsUrl(property) {
        if (property.id) return `/property/${property.id}`;
        const params = new URLSearchParams({
          title: property.title || '',
          price: property.price || 0,
          bedrooms: property.bedrooms || 0,
          bathrooms: property.bathrooms || 0,
          area: property.area || 0,
          category: property.category || '',
          address: property.description || '',
          city: property.location || '',
          furnishing_status: property.furnishing_status || '',
          tenant_preferred: property.tenant_preferred || '',
          pid: property.pid || '',
          area_type: property.area_type || '',
          locality: property.locality || '',
          contact: property.contact || ''
        }).toString();
        return `/property_preview?${params}`;
      }

      function formatSqft(value) {
        const n = parseFloat(value || 0);
        if (!isFinite(n) || n <= 0) return 'â';
        return `${Math.round(n).toLocaleString('en-IN')} sq.ft`;
      }
    </script>
  </body>
</html>
