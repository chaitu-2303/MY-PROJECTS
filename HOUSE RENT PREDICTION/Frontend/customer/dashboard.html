<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>RentRight - Customer Dashboard</title>
    <meta name="description" content="RentRight Customer Dashboard">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon"
          href="{{ url_for('static', filename='img/favicon.ico') }}">

    <!-- ======= All CSS Plugins here ======== -->
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/plugins/swiper-bundle.min.css') }}">
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/vendor/bootstrap.min.css') }}">
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/plugins/glightbox.min.css') }}">
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/plugins/aos.css') }}">

    <!-- Main site styles (same as home page) -->
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Dashboard-specific styles -->
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>

<body class="bg__light--color">

    <!-- Preloader (optional) -->
    <div id="preloader">
        <div class="loader--border"></div>
    </div>

    <!-- ============= HEADER: SAME AS HOME PAGE ============= -->
    <header class="header__section">
        <div class="header__sticky">
            <a class="humberger__menu" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" data-offcanvas href="#offcanvasExample">
                <svg width="28" height="22" viewBox="0 0 28 22" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 1.03846C0 0.46523 0.465715 0 1.03954 0H19.0583C19.6321 0 20.0978 0.46523 20.0978 1.03846C20.0978 1.61169 19.6321 2.07692 19.0583 2.07692H1.03954C0.465715 2.07692 0 1.61169 0 1.03846ZM25.9885 9.6923H1.03954C0.465715 9.6923 0 10.1575 0 10.7308C0 11.304 0.465715 11.7692 1.03954 11.7692H25.9885C26.5624 11.7692 27.0281 11.304 27.0281 10.7308C27.0281 10.1575 26.5624 9.6923 25.9885 9.6923ZM13.514 19.3846H1.03954C0.465715 19.3846 0 19.8498 0 20.4231C0 20.9963 0.465715 21.4615 1.03954 21.4615H13.514C14.0879 21.4615 14.5535 20.9963 14.5535 20.4231C14.5535 19.8498 14.0879 19.3846 13.514 19.3846Z"
                          fill="white" />
                </svg>
            </a>

            <div class="container-fluid padding-lr-120">
                <div class="row align-items-center">
                    <div class="col-12">
                        <div
                            class="main__header d-flex align-items-center justify-content-between">

                            <!-- Logo -->
                            <div class="main__logo d-flex align-items-center">
                                <a class="main__logo--link"
                                   href="{{ url_for('index') }}">
                                    <img class="main__logo--img"
                                         src="{{ url_for('static', filename='img/logo/nav-log.png') }}"
                                         alt="RentRight Logo">
                                </a>
                            </div>

                            <!-- Main menu (same items as home page, but “Dashboard” active) -->
                            <div
                                class="main__header--right d-flex align-items-center justify-content-end">

                                <nav class="main__menu d-none d-lg-block">
                                    <ul class="d-flex align-items-center">
                                        <li class="main__menu--items">
                                            <a class="main__menu--link"
                                               href="{{ url_for('index') }}">
                                                Home
                                            </a>
                                        </li>
                                        <li class="main__menu--items">
                                            <a class="main__menu--link"
                                               href="{{ url_for('listing') }}">
                                                Listing
                                            </a>
                                        </li>
                                        <li class="main__menu--items">
                                            <a class="main__menu--link"
                                               href="{{ url_for('owner_dashboard') }}">
                                                Properties
                                            </a>
                                        </li>
                                        <li class="main__menu--items">
                                            <a class="main__menu--link"
                                               href="{{ url_for('rent_prediction') }}">
                                                Rent Prediction
                                            </a>
                                        </li>
                                        <li class="main__menu--items">
                                            <a class="main__menu--link active"
                                               href="{{ url_for('dashboard') }}">
                                                Dashboard
                                            </a>
                                        </li>
                                    </ul>
                                </nav>

                                <!-- Right side: customer profile dropdown (no “Upgrade Pro / Taskboard”) -->
                                <div class="d-flex align-items-center gap-3">

                                    <!-- Dark / light icons etc. (optional – can remove if you want) -->
                                    <button class="header__account--btn d-none d-lg-inline">
                                        <i class="fa-regular fa-bell"></i>
                                    </button>

                                    <!-- Customer avatar dropdown -->
                                    <div class="dropdown">
                                        <button class="btn btn-light rounded-pill d-flex align-items-center"
                                                id="userMenu"
                                                data-bs-toggle="dropdown"
                                                aria-expanded="false">
                                            <img src="{{ url_for('static', filename='img/other/user.png') }}"
                                                 alt="User"
                                                 class="rounded-circle me-2"
                                                 style="width:32px;height:32px;object-fit:cover;">
                                            <span>
                                                {{ current_user.name if current_user.is_authenticated else 'Customer' }}
                                            </span>
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-end"
                                            aria-labelledby="userMenu">
                                            <li>
                                                <a class="dropdown-item"
                                                   href="{{ url_for('profile') }}">
                                                    My Profile
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item"
                                                   href="{{ url_for('settings') }}">
                                                    Account Settings
                                                </a>
                                            </li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li>
                                                <a class="dropdown-item text-danger"
                                                   href="{{ url_for('logout') }}">
                                                    Log Out
                                                </a>
                                            </li>
                                        </ul>
                                    </div>

                                </div>
                            </div> <!-- /.main__header--right -->

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ============= END HEADER ============= -->

    <!-- Off-canvas side menu (same as home page, optional) -->
    <div class="offcanvas side__menu offcanvas-start" tabindex="-1"
         id="offcanvasExample" data-bs-backdrop="true" data-bs-scroll="false">
        <div
            class="side__menu--header d-flex align-items-center justify-content-between">
            <h2 class="side__menu--title">Welcome to RentRight</h2>
            <button type="button" class="side__menu--close__btn"
                    data-bs-dismiss="offcanvas" data-offcanvas
                    aria-label="Close">X</button>
        </div>
        <div class="side__menu--body">
            <div class="side__menu--nav mb-3">
                <h3 class="side__menu--title">Menu</h3>
                <ul class="list-unstyled">
                    <li class="mb-2"><a class="side__menu--link" href="{{ url_for('rent_prediction') }}">Rent Prediction</a></li>
                    <li class="mb-2"><a class="side__menu--link" href="{{ url_for('bookings') }}">My Bookings</a></li>
                    <li class="mb-2"><a class="side__menu--link" href="{{ url_for('favorites') }}">My Favorites</a></li>
                    <li class="mt-3 text-uppercase small text-muted">Manage Account</li>
                    <li class="mb-2"><a class="side__menu--link" href="{{ url_for('profile') }}">My Profile</a></li>
                    <li class="mb-2"><a class="side__menu--link" href="{{ url_for('settings') }}">Settings</a></li>
                    <li class="mb-2"><a class="side__menu--link text-danger" href="{{ url_for('logout') }}">Log Out</a></li>
                </ul>
            </div>
            <div class="sidebar__gallery">
                <h3 class="sidebar__gallery--title">Properties Gallery</h3>
                <ul class="sidebar__gallery--wrapper d-flex">
                    <li class="sidebar__gallery--items">
                        <a class="sidebar__gallery--link" href="{{ url_for('listing') }}">
                            <img class="sidebar__gallery--img" src="{{ url_for('static', filename='img/gallery/gallery1.png') }}" alt="gallery">
                        </a>
                        <span class="sidebar__gallery--subtitle">Properties</span>
                    </li>
                    <li class="sidebar__gallery--items">
                        <a class="sidebar__gallery--link" href="{{ url_for('listing') }}">
                            <img class="sidebar__gallery--img" src="{{ url_for('static', filename='img/gallery/gallery2.png') }}" alt="gallery">
                        </a>
                        <span class="sidebar__gallery--subtitle">Services</span>
                    </li>
                    <li class="sidebar__gallery--items">
                        <a class="sidebar__gallery--link" href="{{ url_for('listing') }}">
                            <img class="sidebar__gallery--img" src="{{ url_for('static', filename='img/gallery/gallery3.png') }}" alt="gallery">
                        </a>
                        <span class="sidebar__gallery--subtitle">House</span>
                    </li>
                    <li class="sidebar__gallery--items">
                        <a class="sidebar__gallery--link" href="{{ url_for('listing') }}">
                            <img class="sidebar__gallery--img" src="{{ url_for('static', filename='img/gallery/gallery4.png') }}" alt="gallery">
                        </a>
                        <span class="sidebar__gallery--subtitle">Villa</span>
                    </li>
                    <li class="sidebar__gallery--items">
                        <a class="sidebar__gallery--link" href="{{ url_for('listing') }}">
                            <img class="sidebar__gallery--img" src="{{ url_for('static', filename='img/gallery/gallery5.png') }}" alt="gallery">
                        </a>
                        <span class="sidebar__gallery--subtitle">Apartments</span>
                    </li>
                </ul>
            </div>
            <div class="side__menu--footer">
                <div class="side__menu--info">
                    <div class="side__menu--info__list">
                        <h3 class="side__menu--info__title">Customer Care Phone</h3>
                        <p><a class="side__menu--info__text" href="tel:+91 9876543210">Customer Care: +91 9876543210</a></p>
                    </div>
                    <div class="side__menu--info__list">
                        <h3 class="side__menu--info__title">Need Live Support?</h3>
                        <p><a class="side__menu--info__text" href="mailto:support@rentright.com">Email Support</a></p>
                    </div>
                </div>
                <div class="side__menu--share d-flex align-items-center">
                    <h3 class="side__menu--share__title">Follow us :</h3>
                    <ul class=" side__menu--share__wrapper d-flex align-items-center">
                        <li class="side__menu--share__list">
                            <a class="side__menu--share__icon" target="_blank" href="https://www.facebook.com">
                                <svg width="10" height="17" viewBox="0 0 9 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.62891 8.625L8.01172 6.10938H5.57812V4.46875C5.57812 3.75781 5.90625 3.10156 7 3.10156H8.12109V0.941406C8.12109 0.941406 7.10938 0.75 6.15234 0.75C4.15625 0.75 2.84375 1.98047 2.84375 4.16797V6.10938H0.601562V8.625H2.84375V14.75H5.57812V8.625H7.62891Z" fill="currentColor"></path>
                                </svg>
                                <span class="visually-hidden">Facebook</span>
                            </a>
                        </li>
                        <li class="side__menu--share__list">
                            <a class="side__menu--share__icon" target="_blank" href="https://twitter.com">
                                <svg width="16" height="14" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5508 2.90625C13.0977 2.49609 13.5898 2.00391 13.9727 1.42969C13.4805 1.64844 12.9062 1.8125 12.332 1.86719C12.9336 1.51172 13.3711 0.964844 13.5898 0.28125C13.043 0.609375 12.4141 0.855469 11.7852 0.992188C11.2383 0.417969 10.5 0.0898438 9.67969 0.0898438C8.09375 0.0898438 6.80859 1.375 6.80859 2.96094C6.80859 3.17969 6.83594 3.39844 6.89062 3.61719C4.51172 3.48047 2.37891 2.33203 0.957031 0.609375C0.710938 1.01953 0.574219 1.51172 0.574219 2.05859C0.574219 3.04297 1.06641 3.91797 1.85938 4.4375C1.39453 4.41016 0.929688 4.30078 0.546875 4.08203V4.10938C0.546875 5.50391 1.53125 6.65234 2.84375 6.92578C2.625 6.98047 2.35156 7.03516 2.10547 7.03516C1.91406 7.03516 1.75 7.00781 1.55859 6.98047C1.91406 8.12891 2.98047 8.94922 4.23828 8.97656C3.25391 9.74219 2.02344 10.207 0.683594 10.207C0.4375 10.207 0.21875 10.1797 0 10.1523C1.25781 10.9727 2.76172 11.4375 4.40234 11.4375C9.67969 11.4375 12.5508 7.08984 12.5508 3.28906C12.5508 3.15234 12.5508 3.04297 12.5508 2.90625Z" fill="currentColor"></path>
                                </svg>
                                <span class="visually-hidden">Twitter</span>
                            </a>
                        </li>
                        <li class="side__menu--share__list">
                            <a class="side__menu--share__icon" target="_blank" href="https://www.instagram.com">
                                <svg width="16" height="16" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.125 3.60547C5.375 3.60547 3.98047 5.02734 3.98047 6.75C3.98047 8.5 5.375 9.89453 7.125 9.89453C8.84766 9.89453 10.2695 8.5 10.2695 6.75C10.2695 5.02734 8.84766 3.60547 7.125 3.60547ZM7.125 8.80078C6.00391 8.80078 5.07422 7.89844 5.07422 6.75C5.07422 5.62891 5.97656 4.72656 7.125 4.72656C8.24609 4.72656 9.14844 5.62891 9.14844 6.75C9.14844 7.89844 8.24609 8.80078 7.125 8.80078ZM11.1172 3.49609C11.1172 3.08594 10.7891 2.75781 10.3789 2.75781C9.96875 2.75781 9.64062 3.08594 9.64062 3.49609C9.64062 3.90625 9.96875 4.23438 10.3789 4.23438C10.7891 4.23438 11.1172 3.90625 11.1172 3.49609ZM13.1953 4.23438C13.1406 3.25 12.9219 2.375 12.2109 1.66406C11.5 0.953125 10.625 0.734375 9.64062 0.679688C8.62891 0.625 5.59375 0.625 4.58203 0.679688C3.59766 0.734375 2.75 0.953125 2.01172 1.66406C1.30078 2.375 1.08203 3.25 1.02734 4.23438C0.972656 5.24609 0.972656 8.28125 1.02734 9.29297C1.08203 10.2773 1.30078 11.125 2.01172 11.8633C2.75 12.5742 3.59766 12.793 4.58203 12.8477C5.59375 12.9023 8.62891 12.9023 9.64062 12.8477C10.625 12.793 11.5 12.5742 12.2109 11.8633C12.9219 11.125 13.1406 10.2773 13.1953 9.29297C13.25 8.28125 13.25 5.24609 13.1953 4.23438Z" fill="currentColor"></path>
                                </svg>  
                                <span class="visually-hidden">Instagram</span>
                            </a>
                        </li>
                        <li class="side__menu--share__list">
                            <a class="side__menu--share__icon" target="_blank" href="https://www.pinterest.com">
                                <svg width="14" height="16" viewBox="0 0 15 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M14.6713 6.71093C14.6764 7.71873 14.5406 8.65694 14.2638 9.52555C14.0104 10.394 13.6393 11.146 13.1503 11.7813C12.6612 12.3932 12.0778 12.8883 11.4001 13.2668C10.7222 13.6218 9.97304 13.7897 9.15262 13.7705C8.87149 13.7954 8.59012 13.7734 8.30852 13.7045C8.05023 13.6121 7.80366 13.5196 7.56881 13.427C7.35727 13.3109 7.16906 13.1713 7.00416 13.008C6.83926 12.8448 6.70957 12.6931 6.61511 12.553C6.47736 13.1162 6.36257 13.5856 6.27074 13.961C6.17891 14.3365 6.09838 14.6299 6.02915 14.8412C5.98323 15.0289 5.94879 15.1697 5.92584 15.2636C5.9262 15.3339 5.92632 15.3573 5.9262 15.3339C5.85696 15.5452 5.78767 15.7448 5.71832 15.9326C5.64897 16.1205 5.56796 16.3201 5.47529 16.5315C5.3825 16.7195 5.27793 16.8958 5.16158 17.0605C5.06867 17.225 4.97576 17.3896 4.88285 17.5541C4.60256 17.743 4.38033 17.8262 4.21615 17.8036C4.07553 17.8043 3.95804 17.7463 3.86369 17.6296C3.79278 17.5128 3.74531 17.3959 3.72127 17.2788C3.69736 17.1852 3.68534 17.1266 3.68522 17.1032C3.66094 16.9393 3.64832 16.7635 3.64736 16.576C3.64629 16.3651 3.64527 16.1659 3.64431 15.9784C3.66667 15.7673 3.68902 15.5563 3.71138 15.3452C3.75718 15.1341 3.80309 14.9463 3.84913 14.782C3.84901 14.7586 3.86037 14.6882 3.8832 14.5709" fill="currentColor"></path>
                                </svg>
                                <span class="visually-hidden">Pinterest</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= MAIN CUSTOMER DASHBOARD ================= -->
    <main class="dashboard__page--wrapper">

        <div class="container-fluid">
            <div class="row">
                <!-- LEFT SIDEBAR -->
                <aside class="col-md-3 col-lg-2 dashboard__sidebar">
                    <div class="dashboard__sidebar--inner">

                        <h4 class="dashboard__sidebar--title mb-3">Menu</h4>

                        <ul class="dashboard__sidebar--menu list-unstyled">
                            <li class="dashboard__sidebar--item">
                                <a href="{{ url_for('rent_prediction') }}"
                                   class="dashboard__sidebar--link">
                                    Rent Prediction
                                </a>
                            </li>
                            <li class="dashboard__sidebar--item">
                                <a href="{{ url_for('bookings') }}"
                                   class="dashboard__sidebar--link">
                                    My Bookings
                                </a>
                            </li>
                            <li class="dashboard__sidebar--item">
                                <a href="{{ url_for('favorites') }}"
                                   class="dashboard__sidebar--link">
                                    My Favorites
                                </a>
                            </li>

                            <li class="mt-4 text-uppercase small text-muted">
                                Manage Account
                            </li>
                            <li class="dashboard__sidebar--item">
                                <a href="{{ url_for('profile') }}"
                                   class="dashboard__sidebar--link">
                                    My Profile
                                </a>
                            </li>
                            <li class="dashboard__sidebar--item">
                                <a href="{{ url_for('settings') }}"
                                   class="dashboard__sidebar--link">
                                    Settings
                                </a>
                            </li>
                            <li class="dashboard__sidebar--item">
                                <a href="{{ url_for('logout') }}"
                                   class="dashboard__sidebar--link text-danger">
                                    Log Out
                                </a>
                            </li>
                        </ul>
                    </div>
                </aside>

                <!-- MAIN CONTENT -->
                <section class="col-md-9 col-lg-10 dashboard__content">
                    <div class="container-fluid">

                        <!-- Welcome -->
                        <div
                            class="d-flex flex-column flex-md-row align-items-md-center justify-content-between mb-4">
                            <div>
                                <h2 class="mb-2">
                                    Welcome
                                    {{ current_user.name if current_user.is_authenticated else 'Customer' }}
                                </h2>
                                <p class="text-muted mb-0">
                                    View your rent predictions, recent bookings, and favorite properties.
                                </p>
                            </div>
                        </div>

                        <div class="dashboard__quicknav mb-4">
                            <a href="{{ url_for('index') }}" class="navpill">Home</a>
                            <a href="{{ url_for('listing') }}" class="navpill">Listing</a>
                            <a href="{{ url_for('owner_dashboard') }}" class="navpill">Properties</a>
                            <a href="{{ url_for('rent_prediction') }}" class="navpill">Rent Prediction</a>
                            <a href="{{ url_for('dashboard') }}" class="navpill active">Dashboard</a>
                        </div>

                        <!-- Stats cards -->
                        <div class="row g-4 mb-4">
                            <div class="col-md-4">
                                <div class="dashboard__card">
                                    <h5>My Bookings</h5>
                                    <p class="dashboard__card--value">
                                        {{ stats.bookings or 0 if stats is defined else 0 }}
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="dashboard__card">
                                    <h5>My Favorites</h5>
                                    <p class="dashboard__card--value">
                                        {{ stats.favorites or 0 if stats is defined else 0 }}
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="dashboard__card">
                                    <h5>Predictions</h5>
                                    <p class="dashboard__card--value">
                                        {{ stats.predictions or 0 if stats is defined else 0 }}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Simple placeholder for chart / recent activity -->
                        <div class="row g-4">
                            <div class="col-lg-7">
                                <div class="dashboard__panel">
                                    <h5 class="mb-3">Recent Predictions</h5>
                                    {% if recent_predictions %}
                                        <ul class="list-group list-group-flush">
                                            {% for p in recent_predictions %}
                                                <li class="list-group-item d-flex justify-content-between">
                                                    <span>
                                                        {{ p.city }} – {{ p.bhk }} BHK, {{ p.size }} sq.ft
                                                    </span>
                                                    <strong>₹{{ "{:,.0f}".format(p.rent) }}</strong>
                                                </li>
                                            {% endfor %}
                                        </ul>
                                    {% else %}
                                        <p class="text-muted mb-0">
                                            No predictions yet. Try using the rent prediction tool!
                                        </p>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-lg-5">
                                <div class="dashboard__panel quickactions">
                                    <h5 class="mb-3">Quick Actions</h5>
                                    <div class="d-grid gap-2">
                                        <a href="{{ url_for('rent_prediction') }}"
                                           class="btn btn-primary">
                                            Predict New Rent
                                        </a>
                                        <a href="{{ url_for('listing') }}"
                                           class="btn btn-outline-primary">
                                            Browse Properties
                                        </a>
                                        <a href="{{ url_for('favorites') }}"
                                           class="btn btn-outline-secondary">
                                            View Favorites
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Optional footer if you want it on dashboard too -->
    {% include 'partials/footer.html' ignore missing %}

    <!-- JS -->
    <script src="{{ url_for('static', filename='js/vendor/popper.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/vendor/bootstrap.min.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/plugins/swiper-bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/plugins/glightbox.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/plugins/aos.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
